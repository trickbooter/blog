<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Post-rsses on Outback Coder (a working title)</title>
    <link>https://trickbooter.github.io/post/index.xml</link>
    <description>Recent content in Post-rsses on Outback Coder (a working title)</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Sat, 12 Nov 2016 15:40:31 +1100</lastBuildDate>
    <atom:link href="https://trickbooter.github.io/post/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>A Spark Gradle Project</title>
      <link>https://trickbooter.github.io/post/2016-11-12-spark-gradle/</link>
      <pubDate>Sat, 12 Nov 2016 15:40:31 +1100</pubDate>
      
      <guid>https://trickbooter.github.io/post/2016-11-12-spark-gradle/</guid>
      <description>

&lt;h2 id=&#34;an-empty-spark-project-with-gradle-goodies&#34;&gt;An Empty Spark Project with Gradle Goodies&lt;/h2&gt;

&lt;p&gt;When I started working with Spark, I was new to many technologies, and one of the most time consuming aspects for me was putting together a set of build tools.&lt;/p&gt;

&lt;h3 id=&#34;objectives&#34;&gt;Objectives&lt;/h3&gt;

&lt;p&gt;Over the course of this project, I found myself wanting a handful of features from the build.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Build the code&lt;/li&gt;
&lt;li&gt;Run the tests&lt;/li&gt;
&lt;li&gt;Run Spark integration tests&lt;/li&gt;
&lt;li&gt;Bundle my project into an uberjar for easy use with Spark&lt;/li&gt;
&lt;li&gt;Build a tar file that contains my jar and other files I might want (such as configuration templates)&lt;/li&gt;
&lt;li&gt;Add the git commit hash to the jar manifest&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;using-the-code&#34;&gt;Using the code&lt;/h3&gt;

&lt;p&gt;Grab the code from &lt;a href=&#34;https://github.com/trickbooter/spark-gradle&#34;&gt;Github&lt;/a&gt;. Although I have included the Gradle idea and eclipse plugins, I have only tested this on my usual Development tool of IntelliJ (idea). This&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Open IntelliJ&lt;/li&gt;
&lt;li&gt;Select Import Project&lt;/li&gt;
&lt;li&gt;Select the cloned repo&lt;/li&gt;
&lt;li&gt;Select Gradle as the external model&lt;/li&gt;
&lt;li&gt;Select &amp;lsquo;Auto-Import&amp;rsquo;, &amp;lsquo;Create separate module per source set&amp;rsquo;, &amp;lsquo;Use gradle wrapper task configuration&amp;rsquo;&lt;/li&gt;
&lt;li&gt;Finish&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&#34;layout&#34;&gt;Layout&lt;/h3&gt;

&lt;p&gt;&lt;em&gt;settings.gradle&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Contains the project name (part of the jar name)&lt;/p&gt;

&lt;p&gt;&lt;em&gt;build.gradle&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Where the main Gradle action happens. I have import various language support plugins, and &amp;lsquo;&lt;a href=&#34;https://github.com/johnrengelman/shadow&#34;&gt;shadow&lt;/a&gt;&amp;rsquo; to allow us to build the uber jar.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;gradle/dependencies.gradle&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;A convenient location to maintain our dependencies. Using Gradle 2.14 also lets us take advantage of the compileOnly feature, which allows dependencies to be used during compile, but are then expected to be provided whilst the code is running. This is the perfect place to put our spark libraries.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;gradle/tests.gradle&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Defines our test tasks. All I have done here is customised the default Gradle test task to ensure Gradle doesn&amp;rsquo;t swallow JUnit&amp;rsquo;s standard out and standard error.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;gradle/artifacts.gradle&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Defines our packaging tasks.&lt;/p&gt;

&lt;h3 id=&#34;what-s-next&#34;&gt;What&amp;rsquo;s next&lt;/h3&gt;

&lt;p&gt;I&amp;rsquo;ll extend the code in the coming weeks to include some test code.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>